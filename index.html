<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãŸã®ã—ã„ï¼å˜ä½æ›ç®—ã‚¢ãƒ—ãƒª</title>
    <!-- Tailwind CSS ã‚’èª­ã¿è¾¼ã¿ã¾ã™ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts ã‹ã‚‰ã€å­ä¾›å‘ã‘ã®ä¸¸ã„ãƒ•ã‚©ãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿ã¾ã™ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* èª­ã¿è¾¼ã‚“ã ãƒ•ã‚©ãƒ³ãƒˆã‚’å…¨ä½“ã«é©ç”¨ã—ã¾ã™ */
        body {
            font-family: 'M PLUS Rounded 1c', sans-serif;
        }
        /* æ•°å­—å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®çŸ¢å°ã‚’éè¡¨ç¤ºã«ã—ã¦ã€è¦‹ãŸç›®ã‚’ã™ã£ãã‚Šã•ã›ã¾ã™ */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
        /* ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .category-btn.active {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body class="bg-blue-100 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-4xl bg-white rounded-2xl shadow-lg p-6 md:p-8">
        
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ† -->
        <header class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-blue-600">âœ¨ ãŸã®ã—ã„ï¼å˜ä½æ›ç®— âœ¨</h1>
            <p class="text-gray-500 mt-2">æ•°å­—ã‚’ã„ã‚Œã‚‹ã¨ã€ãœã‚“ã¶ã®å˜ä½ãŒã‹ã‚ã‚‹ã‚ˆï¼</p>
        </header>

        <!-- å˜ä½ã®ç¨®é¡ã‚’é¸ã¶ãƒœã‚¿ãƒ³ -->
        <div id="category-buttons" class="flex flex-wrap justify-center gap-3 md:gap-4 mb-6">
            <button data-category="length" class="category-btn active bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full shadow-md transition-transform duration-200 ease-in-out">
                ğŸ“ ãªãŒã•
            </button>
            <button data-category="weight" class="category-btn bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-full shadow-md transition-transform duration-200 ease-in-out">
                âš–ï¸ ãŠã‚‚ã•
            </button>
            <button data-category="volume" class="category-btn bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-full shadow-md transition-transform duration-200 ease-in-out">
                ğŸ’§ ã‹ã•
            </button>
            <button data-category="area" class="category-btn bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-full shadow-md transition-transform duration-200 ease-in-out">
                ğŸï¸ ã²ã‚ã•
            </button>
            <button data-category="bulk" class="category-btn bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-full shadow-md transition-transform duration-200 ease-in-out">
                ğŸ§Š ä½“ç©
            </button>
        </div>

        <!-- å˜ä½æ›ç®—ã®ãƒ‘ãƒãƒ« -->
        <div id="converter-panels">
            <!-- ãªãŒã•ã®ãƒ‘ãƒãƒ« -->
            <div id="length-panel" class="converter-panel grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-green-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-green-800">ã‚­ãƒ­ãƒ¡ãƒ¼ãƒˆãƒ« (km)</label>
                    <input type="number" data-unit="km" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-green-300 focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>
                <div class="bg-green-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-green-800">ãƒ¡ãƒ¼ãƒˆãƒ« (m)</label>
                    <input type="number" data-unit="m" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-green-300 focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>
                <div class="bg-green-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-green-800">ã‚»ãƒ³ãƒãƒ¡ãƒ¼ãƒˆãƒ« (cm)</label>
                    <input type="number" data-unit="cm" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-green-300 focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>
                 <div class="bg-green-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-green-800">ãƒŸãƒªãƒ¡ãƒ¼ãƒˆãƒ« (mm)</label>
                    <input type="number" data-unit="mm" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-green-300 focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>
            </div>

            <!-- ãŠã‚‚ã•ã®ãƒ‘ãƒãƒ« -->
            <div id="weight-panel" class="converter-panel hidden grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-yellow-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-yellow-800">ãƒˆãƒ³ (t)</label>
                    <input type="number" data-unit="t" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-yellow-300 focus:outline-none focus:ring-2 focus:ring-yellow-500">
                </div>
                <div class="bg-yellow-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-yellow-800">ã‚­ãƒ­ã‚°ãƒ©ãƒ  (kg)</label>
                    <input type="number" data-unit="kg" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-yellow-300 focus:outline-none focus:ring-2 focus:ring-yellow-500">
                </div>
                <div class="bg-yellow-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-yellow-800">ã‚°ãƒ©ãƒ  (g)</label>
                    <input type="number" data-unit="g" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-yellow-300 focus:outline-none focus:ring-2 focus:ring-yellow-500">
                </div>
                <div class="bg-yellow-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-yellow-800">ãƒŸãƒªã‚°ãƒ©ãƒ  (mg)</label>
                    <input type="number" data-unit="mg" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-yellow-300 focus:outline-none focus:ring-2 focus:ring-yellow-500">
                </div>
            </div>

            <!-- ã‹ã•ã®ãƒ‘ãƒãƒ« -->
            <div id="volume-panel" class="converter-panel hidden grid grid-cols-2 md:grid-cols-4 gap-4">
                 <div class="bg-purple-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-purple-800">ã‚­ãƒ­ãƒªãƒƒãƒˆãƒ« (kL)</label>
                    <input type="number" data-unit="kl" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                <div class="bg-purple-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-purple-800">ãƒªãƒƒãƒˆãƒ« (L)</label>
                    <input type="number" data-unit="l" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                <div class="bg-purple-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-purple-800">ãƒ‡ã‚·ãƒªãƒƒãƒˆãƒ« (dL)</label>
                    <input type="number" data-unit="dl" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                 <div class="bg-purple-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-purple-800">ãƒŸãƒªãƒªãƒƒãƒˆãƒ« (mL)</label>
                    <input type="number" data-unit="ml" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
            </div>
            
            <!-- ã²ã‚ã•ã®ãƒ‘ãƒãƒ« -->
            <div id="area-panel" class="converter-panel hidden grid grid-cols-2 md:grid-cols-3 gap-4">
                 <div class="bg-red-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-red-800">å¹³æ–¹km (kmÂ²)</label>
                    <input type="number" data-unit="km2" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500">
                </div>
                <div class="bg-red-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-red-800">ãƒ˜ã‚¯ã‚¿ãƒ¼ãƒ« (ha)</label>
                    <input type="number" data-unit="ha" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500">
                </div>
                <div class="bg-red-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-red-800">ã‚¢ãƒ¼ãƒ« (a)</label>
                    <input type="number" data-unit="a" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500">
                </div>
                <div class="bg-red-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-red-800">å¹³æ–¹ãƒ¡ãƒ¼ãƒˆãƒ« (mÂ²)</label>
                    <input type="number" data-unit="m2" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500">
                </div>
                <div class="bg-red-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-red-800">å¹³æ–¹cm (cmÂ²)</label>
                    <input type="number" data-unit="cm2" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500">
                </div>
                <div class="bg-red-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-red-800">å¹³æ–¹mm (mmÂ²)</label>
                    <input type="number" data-unit="mm2" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500">
                </div>
            </div>

            <!-- ä½“ç©ã®ãƒ‘ãƒãƒ« -->
            <div id="bulk-panel" class="converter-panel hidden grid grid-cols-1 md:grid-cols-3 gap-4">
                 <div class="bg-orange-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-orange-800">ç«‹æ–¹ãƒ¡ãƒ¼ãƒˆãƒ« (mÂ³)</label>
                    <input type="number" data-unit="m3" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-500">
                </div>
                <div class="bg-orange-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-orange-800">ç«‹æ–¹cm (cmÂ³)</label>
                    <input type="number" data-unit="cm3" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-500">
                </div>
                <div class="bg-orange-100 p-4 rounded-lg text-center">
                    <label class="font-bold text-orange-800">ç«‹æ–¹mm (mmÂ³)</label>
                    <input type="number" data-unit="mm3" class="w-full mt-2 p-2 text-center text-lg font-bold rounded-md border-2 border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-500">
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- è¨­å®š ---
        // å„å˜ä½ã®åŸºæº–ã¨ãªã‚‹å˜ä½ã‹ã‚‰ã®å€ç‡ã‚’å®šç¾©ã—ã¾ã™ã€‚
        const conversionRates = {
            length: { // ãªãŒã•ã®åŸºæº–ã¯ã€Œãƒ¡ãƒ¼ãƒˆãƒ«ã€
                km: 1000,
                m: 1,
                cm: 0.01,
                mm: 0.001
            },
            weight: { // ãŠã‚‚ã•ã®åŸºæº–ã¯ã€Œã‚°ãƒ©ãƒ ã€
                t: 1000000,
                kg: 1000,
                g: 1,
                mg: 0.001
            },
            volume: { // ã‹ã•ã®åŸºæº–ã¯ã€Œãƒªãƒƒãƒˆãƒ«ã€
                kl: 1000,
                l: 1,
                dl: 0.1,
                ml: 0.001
            },
            area: { // ã²ã‚ã•ã®åŸºæº–ã¯ã€Œå¹³æ–¹ãƒ¡ãƒ¼ãƒˆãƒ«ã€
                km2: 1000000,
                ha: 10000,
                a: 100,
                m2: 1,
                cm2: 0.0001,
                mm2: 0.000001
            },
            bulk: { // ä½“ç©ã®åŸºæº–ã¯ã€Œç«‹æ–¹ãƒ¡ãƒ¼ãƒˆãƒ«ã€
                m3: 1,
                cm3: 0.000001,
                mm3: 0.000000001
            }
        };

        // --- DOMè¦ç´ ã®å–å¾— ---
        const categoryButtons = document.querySelectorAll('.category-btn');
        const converterPanels = document.querySelectorAll('.converter-panel');
        const numberInputs = document.querySelectorAll('input[type="number"]');

        let activeCategory = 'length'; // æœ€åˆã¯ã€ŒãªãŒã•ã€ã‚’è¡¨ç¤º

        // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š ---

        // ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸãƒœã‚¿ãƒ³ã‹ã‚‰ã‚«ãƒ†ã‚´ãƒªãƒ¼åã‚’å–å¾—
                const category = button.dataset.category;
                activeCategory = category;

                // ã™ã¹ã¦ã®ãƒœã‚¿ãƒ³ã‹ã‚‰ active ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
                categoryButtons.forEach(btn => btn.classList.remove('active'));
                // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸãƒœã‚¿ãƒ³ã« active ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
                button.classList.add('active');

                // ã™ã¹ã¦ã®ãƒ‘ãƒãƒ«ã‚’éè¡¨ç¤ºã«ã™ã‚‹
                converterPanels.forEach(panel => {
                    panel.classList.add('hidden');
                });

                // å¯¾å¿œã™ã‚‹ãƒ‘ãƒãƒ«ã ã‘ã‚’è¡¨ç¤ºã™ã‚‹
                const activePanel = document.getElementById(`${category}-panel`);
                activePanel.classList.remove('hidden');
                
                // ãƒ‘ãƒãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆãŸã‚‰ã€å…¥åŠ›æ¬„ã‚’ã™ã¹ã¦ã‚¯ãƒªã‚¢ã™ã‚‹
                clearAllInputs(category);
            });
        });

        // æ•°å­—ãŒå…¥åŠ›ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
        numberInputs.forEach(input => {
            input.addEventListener('input', (e) => {
                const sourceUnit = e.target.dataset.unit;
                const sourceValue = parseFloat(e.target.value);
                
                // å…¥åŠ›ãŒæœ‰åŠ¹ãªæ•°å­—ã§ãªã‘ã‚Œã°å‡¦ç†ã‚’ä¸­æ–­
                if (isNaN(sourceValue)) {
                    clearAllInputs(activeCategory, e.target);
                    return;
                }

                convertUnits(activeCategory, sourceUnit, sourceValue);
            });
        });

        // --- é–¢æ•° ---

        /**
         * å˜ä½ã‚’æ›ç®—ã—ã¦ã€ã™ã¹ã¦ã®å…¥åŠ›æ¬„ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
         * @param {string} category - å˜ä½ã®ç¨®é¡ (e.g., 'length')
         * @param {string} sourceUnit - å…¥åŠ›ã•ã‚ŒãŸå˜ä½ (e.g., 'km')
         * @param {number} sourceValue - å…¥åŠ›ã•ã‚ŒãŸå€¤
         */
        function convertUnits(category, sourceUnit, sourceValue) {
            const rates = conversionRates[category];
            // åŸºæº–å˜ä½ã§ã®å€¤ã«å¤‰æ› (ä¾‹: 1km -> 1000m)
            const baseValue = sourceValue * rates[sourceUnit];

            // ç¾åœ¨ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ã™ã¹ã¦ã®å…¥åŠ›æ¬„ã‚’ãƒ«ãƒ¼ãƒ—
            const currentPanelInputs = document.querySelectorAll(`#${category}-panel input`);
            currentPanelInputs.forEach(input => {
                const targetUnit = input.dataset.unit;
                // è‡ªåˆ†è‡ªèº«ã¯æ›´æ–°ã—ãªã„ï¼ˆå…¥åŠ›ã®é‚ªé­”ã‚’ã—ãªã„ãŸã‚ï¼‰
                if (targetUnit === sourceUnit) return;

                // åŸºæº–å˜ä½ã®å€¤ã‹ã‚‰ã€å„å˜ä½ã®å€¤ã«å¤‰æ› (ä¾‹: 1000m -> 100000cm)
                const targetValue = baseValue / rates[targetUnit];
                
                // è¨ˆç®—çµæœã‚’ã€å°æ•°ç‚¹ä»¥ä¸‹ã®ä¸è¦ãª0ã‚’æ¶ˆã—ã¦è¡¨ç¤ºã™ã‚‹
                input.value = Number(targetValue.toPrecision(15));
            });
        }
        
        /**
         * æŒ‡å®šã•ã‚ŒãŸã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ã™ã¹ã¦ã®å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹é–¢æ•°
         * @param {string} category - å˜ä½ã®ç¨®é¡
         * @param {HTMLElement} [exceptInput=null] - ã‚¯ãƒªã‚¢å‡¦ç†ã‹ã‚‰é™¤å¤–ã™ã‚‹å…¥åŠ›æ¬„
         */
        function clearAllInputs(category, exceptInput = null) {
             const currentPanelInputs = document.querySelectorAll(`#${category}-panel input`);
             currentPanelInputs.forEach(input => {
                if(input !== exceptInput) {
                    input.value = '';
                }
             });
        }

    </script>
</body>
</html>

